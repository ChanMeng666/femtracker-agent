# 🌸 AI Menstrual Tracker

这是一个基于 CopilotKit 和 LangGraph 的智能月经追踪系统，提供全方位的生理周期管理和AI洞察。

## 功能特点

### 📅 周期追踪
- **实时周期监控**: 自动计算当前周期天数和总长度
- **经期记录**: 记录每日流量强度（轻度、中度、重度、点滴）
- **可视化展示**: 直观的日历视图显示经期数据

### 🩺 症状管理
- **症状跟踪**: 记录10种常见经期症状
  - 痛经、头痛、腹胀、胸部胀痛
  - 背痛、恶心、痤疮、疲劳
  - 情绪波动、食欲变化
- **严重程度评估**: 1-10级症状强度评分
- **趋势分析**: AI识别症状模式

### 😊 情绪监控
- **情绪追踪**: 记录8种情绪状态
  - 开心、悲伤、焦虑、易怒
  - 平静、精力充沛、疲倦、情绪化
- **强度评估**: 1-10级情绪强度记录
- **情绪模式**: AI分析情绪与周期的关联

### 🤖 AI智能洞察
- **个性化预测**: 预测下次经期时间
- **易孕期提醒**: 自动计算排卵窗口期
- **周期洞察**: AI分析个人周期模式
- **健康建议**: 基于数据的个性化建议

### 📝 个人笔记
- **日记功能**: 记录每日感受和观察
- **私密存储**: 安全的个人数据管理
- **历史回顾**: 轻松查看过往记录

## 技术架构

### 前端 (Next.js + React)
```
src/app/menstrual-tracker/
├── page.tsx          # 主要追踪界面
└── style.css         # 自定义样式
```

### 后端 (LangGraph Agent)
```
agent/menstrual_agent/
├── agent.py          # LangGraph 代理逻辑
└── __init__.py       # 模块初始化
```

### 核心组件
- **CopilotKit**: 提供AI聊天交互界面
- **LangGraph**: 状态管理和工作流程控制
- **OpenAI GPT-4**: 自然语言处理和洞察生成

## 数据结构

### 周期数据
```typescript
interface CycleData {
  current_cycle: {
    start_date: string;
    end_date: string | null;
    cycle_length: number | null;
    period_days: PeriodDay[];
  };
  symptoms: Symptom[];
  moods: Mood[];
  notes: Note[];
  predictions: {
    next_period_date: string | null;
    fertile_window: {
      start: string | null;
      end: string | null;
    };
    cycle_insights: string;
  };
}
```

## 使用方法

### 基本操作
1. **记录经期**: 选择日期和流量强度
2. **添加症状**: 通过AI聊天记录症状
3. **追踪情绪**: 语音或文字描述当日情绪
4. **查看预测**: 获取AI生成的周期预测

### AI对话示例
- "今天开始来月经了，流量中等"
- "我感到轻微痛经，大概5级疼痛"
- "心情有点烦躁，想吃甜食"
- "什么时候是我的下次月经？"
- "我的周期规律吗？"

## 隐私与安全

- ✅ 所有数据本地存储
- ✅ 不与第三方共享个人信息
- ✅ 端到端数据加密
- ✅ 用户完全控制数据

## 界面设计

### 视觉风格
- 温馨的粉紫渐变背景
- 圆润的卡片设计
- 毛玻璃效果增强现代感
- 响应式布局适配多设备

### 色彩系统
- 主色调：温暖的粉色到紫色渐变
- 辅助色：柔和的橙色、蓝色、绿色
- 文字：深灰色确保可读性
- 背景：半透明白色增强层次感

## 开发与扩展

### 添加新功能
1. 在 `agent/menstrual_agent/agent.py` 中定义新的数据结构
2. 更新 `UPDATE_CYCLE_TOOL` 工具配置
3. 在前端 `page.tsx` 中添加UI组件
4. 更新样式文件 `style.css`

### 自定义代理行为
修改 `chat_node` 函数中的 `system_prompt` 来调整AI助手的行为和响应风格。

## 最佳实践

### 数据记录
- 每日记录：养成每天记录的习惯
- 及时更新：症状出现时立即记录
- 详细描述：在笔记中添加具体感受

### AI交互
- 自然对话：使用日常语言与AI交流
- 具体描述：提供详细的症状和情绪信息
- 定期咨询：主动询问周期模式和建议

## 注意事项

⚠️ **重要提示**: 
- 本应用仅用于个人健康追踪
- 不能替代医疗诊断和治疗
- 如有严重症状请及时就医
- AI建议仅供参考，非医疗建议

## 更新日志

### v1.0.0 (当前版本)
- ✅ 基础周期追踪功能
- ✅ 症状和情绪记录
- ✅ AI洞察和预测
- ✅ 响应式界面设计
- ✅ 个人笔记功能

### 计划功能
- 📊 数据导出功能
- 📈 详细图表分析
- 🔔 智能提醒通知
- 🌐 多语言支持
- 📱 移动端优化

---

💡 **使用建议**: 连续使用2-3个周期后，AI将能提供更准确的个性化洞察和预测。 