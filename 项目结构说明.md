# 项目结构说明

## 主要目录结构

```
femtracker-agent/
├── README.md                    # 详细项目说明文档
├── 快速启动指南.md              # 简化启动说明
├── 项目结构说明.md              # 本文件
├── TROUBLESHOOTING.md          # 故障排除指南
├── start.bat                   # Windows启动脚本
├── start.sh                    # Linux/Mac启动脚本
├── package.json                # 前端Node.js依赖
├── config.ts                   # 项目配置文件
├── .env.local                  # 前端环境变量（需要创建）
├── src/                        # 前端源代码
│   ├── app/
│   │   ├── globals.css         # 全局样式
│   │   ├── page.tsx            # 主页面
│   │   ├── api/
│   │   │   └── copilotkit/
│   │   │       └── route.ts    # CopilotKit API路由
│   │   └── recipe/
│   │       ├── page.tsx        # 食谱页面主组件
│   │       └── style.css       # 食谱页面样式
│   └── lib/
│       └── prompts.ts          # 提示词和建议
├── components.json             # UI组件配置
└── agent/                      # 后端Python项目
    ├── venv/                   # Python虚拟环境
    ├── requirements.txt        # Python依赖列表
    ├── .env                    # 后端环境变量（需要创建）
    ├── langgraph.json         # LangGraph配置
    ├── recipe_agent/          # 食谱代理模块
    │   ├── __init__.py
    │   └── agent.py           # 主要代理逻辑
    └── sample_agent/          # 示例代理模块
        ├── __init__.py
        ├── agent.py
        └── demo.py
```

## 核心文件说明

### 前端核心文件

1. **src/app/page.tsx**
   - 应用主页面
   - 包含导航到食谱助手的链接

2. **src/app/recipe/page.tsx**
   - 食谱助手主界面
   - 处理食谱的创建、编辑、AI改进功能
   - 使用CopilotKit进行AI交互

3. **src/app/api/copilotkit/route.ts**
   - CopilotKit API端点
   - 连接前端和后端代理

4. **config.ts**
   - 配置代理类型为"langgraph"
   - 全局配置参数

### 后端核心文件

1. **agent/recipe_agent/agent.py**
   - 食谱代理的主要逻辑
   - 定义了技能等级、烹饪时间、饮食偏好等枚举
   - 包含AI工具函数和状态管理

2. **agent/langgraph.json**
   - LangGraph配置文件
   - 定义了可用的代理图

3. **agent/requirements.txt**
   - Python依赖列表
   - 包含所有必要的包和版本

## 功能模块说明

### 前端功能模块

- **食谱管理**: 创建、编辑、删除食谱
- **实时编辑**: 支持食材和步骤的实时编辑
- **AI交互**: 通过CopilotKit与后端AI代理通信
- **用户界面**: 现代化的响应式设计

### 后端功能模块

- **智能代理**: 基于LangGraph的AI代理
- **状态管理**: 使用CopilotKitState进行状态同步
- **工具函数**: AI可调用的工具函数
- **API服务**: 通过FastAPI提供服务

## 数据流说明

1. 用户在前端界面操作
2. 前端通过CopilotKit发送请求到 `/api/copilotkit`
3. API路由转发请求到后端LangGraph代理
4. 后端代理处理请求并返回结果
5. 前端接收结果并更新界面

## 开发提示

- 修改前端样式：编辑 `src/app/recipe/style.css`
- 添加新的AI功能：修改 `agent/recipe_agent/agent.py`
- 调整配置：修改 `config.ts` 和 `langgraph.json`
- 添加新的UI组件：在 `src/app/recipe/page.tsx` 中添加 